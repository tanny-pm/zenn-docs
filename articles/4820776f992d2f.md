---
title: "ã€ŒClean Architectures in Pythonã€ã‚’èª­ã¿è§£ã„ã¦ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’å…·ä½“çš„ã«ç†è§£ã™ã‚‹"
emoji: "ğŸ™Œ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [python]
published: false
---

# ã¯ã˜ã‚ã«

# ä½œã‚‹ã‚‚ã®

# ãƒ‰ãƒ¡ã‚¤ãƒ³

ã¾ãšã¯ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ã®å®šç¾©ã‹ã‚‰å§‹ã‚ã¾ã™ã€‚ç‰©ä»¶æƒ…å ±ã‚’è¡¨ã™`Room`ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ã—ã¾ã™ã€‚ã“ã®ã‚¯ãƒ©ã‚¹ã¯ä»¥ä¸‹ã®å±æ€§ã‚’æŒã¡ã¾ã™ã€‚

- UUID
- éƒ¨å±‹ã®ã‚µã‚¤ã‚º(å¹³æ–¹ãƒ¡ãƒ¼ãƒˆãƒ«)
- è³ƒæ–™ï¼ˆãƒ¦ãƒ¼ãƒ­/æ—¥ï¼‰
- çµŒç·¯åº¦

`dataclass`ã‚’æ´»ç”¨ã—ã¦ã€ä»¥ä¸‹ã®ã‚ˆã†ã«`Room`ã‚¯ãƒ©ã‚¹ã‚’å®Ÿè£…ã—ã¾ã™ã€‚

```py:rentomatic/domain/room.py
import dataclasses
import uuid


@dataclasses.dataclass
class Room:
    code: uuid.UUID
    size: int
    price: int
    longitude: float
    latitude: float

    @classmethod
    def from_dict(cls, d):
        return cls(**d)

    def to_dict(self):
        return dataclasses.asdict(self)
```

ãƒ‡ãƒ¼ã‚¿ã®æ“ä½œã‚’ç°¡å˜ã«ã™ã‚‹ãŸã‚ã«ã€ãƒ‡ã‚£ã‚¯ã‚·ãƒ§ãƒŠãƒªã¨ç›¸äº’ã«å¤‰æ›ã™ã‚‹ãŸã‚ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚‚å®šç¾©ã—ã¦ã„ã¾ã™ã€‚

ã“ã®ã‚¯ãƒ©ã‚¹ã¯ã‚¢ãƒ—ãƒªã®ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ï¼ˆå®Ÿä½“ï¼‰ã¨ã—ã¦ã€ã‚¢ãƒ—ãƒªå…¨ä½“ã§å‚ç…§ã—ã¾ã™ã€‚

# ãƒªãƒã‚¸ãƒˆãƒª

æ¬¡ã«ã€`Room`ã‚¯ãƒ©ã‚¹ã®ãƒ‡ãƒ¼ã‚¿ã‚’å«ã¿ã€ãƒ‡ãƒ¼ã‚¿ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’å¯èƒ½ã«ã™ã‚‹ã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚

æ›¸ç±ã§ã¯ã“ã‚Œã‚’ã€Œãƒªãƒã‚¸ãƒˆãƒªã€ã¨å‘¼ã‚“ã§ã„ã¾ã™ã€‚Git ã®ãƒªãƒã‚¸ãƒˆãƒªã¨ã¯é–¢ä¿‚ãŒã‚ã‚Šã¾ã›ã‚“ã€‚æ„å‘³é€šã‚Šã«ã€ãƒ‡ãƒ¼ã‚¿ã®ã€Œåç´åº«ã€ã®ã‚ˆã†ãªã‚‚ã®ã ã¨ç†è§£ã—ã¦ãŠãã¨è‰¯ã„ã¨æ€ã„ã¾ã™ã€‚

## ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹

ã¾ãšã¯ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®šç¾©ã—ã¾ã™ã€‚ï¼ˆæ›¸ç±ã§ã¯å®Ÿè£…ã—ã¦ã„ã¾ã›ã‚“ãŒã€ã‚ã‹ã‚Šã‚„ã™ã•ã®ãŸã‚ã«è¿½åŠ ã—ã¾ã—ãŸï¼‰

Python ã§ã¯è¨€èªæ©Ÿèƒ½ã¨ã—ã¦ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¯å­˜åœ¨ã—ã¾ã›ã‚“ãŒã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹çš„ãªæ©Ÿèƒ½ã‚’æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®`abc`ã‚’åˆ©ç”¨ã—ã¦å®Ÿç¾ã§ãã¾ã™ã€‚

`Room`ã‚’æ‰±ã†ãƒªãƒã‚¸ãƒˆãƒªã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«å®šç¾©ã—ã¾ã™ã€‚`Room`ã®ä¸€è¦§ã‚’å–å¾—ã™ã‚‹`list()`ãƒ¡ã‚½ãƒƒãƒ‰ã¨`add()`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒã£ã¦ã„ã¾ã™ã€‚ï¼ˆæ›¸ç±ã§ã¯`list()`ã ã‘å®Ÿè£…ã—ã¦ã„ã¾ã™ãŒã€ã‚·ãƒ³ãƒ—ãƒ«ã™ãã‚‹ãŸã‚`add()`ã‚’è¿½åŠ ï¼‰

```py:rentomatic/repository/iroomrepo.py
import abc

from rentomatic.domain.room import Room


class IRoomRepo(metaclass=abc.ABCMeta):
    @abc.abstractmethod
    def list(self) -> list[Room]:
        """Get list of all Rooms"""
        pass

    @abc.abstractmethod
    def add(self, room: Room) -> int:
        """Add a new Room"""
        pass
```

## ãƒªãƒã‚¸ãƒˆãƒªã®å®Ÿè£…ï¼ˆã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªï¼‰

ã¤ãã«ã€`IRoomRepo`ã‚’ç¶™æ‰¿ã—ãŸã‚¯ãƒ©ã‚¹ã‚’å®Ÿè£…ã—ã¾ã™ã€‚ã“ã‚ŒãŒãƒªãƒã‚¸ãƒˆãƒªã®å®Ÿä½“ã«ãªã‚Šã¾ã™ã€‚

ãƒªãƒã‚¸ãƒˆãƒªã®æ©Ÿèƒ½ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã«ã¯ã€`Room`ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä¿æŒã™ã‚‹ãŸã‚ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚·ã‚¹ãƒ†ãƒ ãŒå¿…è¦ã¨ãªã‚Šã¾ã™ã€‚ã“ã‚Œã¯ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚‚ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã§ã‚‚ã€ãªã‚“ã§ã‚‚ OK ã§ã™ã€‚

ã“ã“ã§ã¯å®Ÿè£…ã‚’ã‚·ãƒ³ãƒ—ãƒ«ã«ã™ã‚‹ãŸã‚ã«ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ä¸Šã«ç›´æ¥è¨˜è¼‰ã•ã‚ŒãŸãƒ‡ã‚£ã‚¯ã‚·ãƒ§ãƒŠãƒªã‚’æ‰±ã†ã€ãƒ¡ãƒ¢ãƒªå†…ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚·ã‚¹ãƒ†ãƒ ï¼ˆ`MemRepo`ï¼‰ã‚’å®Ÿè£…ã—ã¾ã™ã€‚ï¼ˆã“ã®è¨˜äº‹ã®å¾ŒåŠã§ã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’åˆ©ç”¨ã™ã‚‹ä¾‹ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚ï¼‰

å…ˆã»ã©ä½œæˆã—ãŸ`IRoomRepo`ã‚’ç¶™æ‰¿ã—ãŸ`MemRepo`ã‚¯ãƒ©ã‚¹ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«å®Ÿè£…ã—ã¾ã™ã€‚ã“ã®ã‚¯ãƒ©ã‚¹ã¯ã€ç‰©ä»¶æƒ…å ±ãŒè¨˜è¼‰ã•ã‚ŒãŸãƒ‡ã‚£ã‚¯ã‚·ãƒ§ãƒŠãƒªã‚’åˆæœŸåŒ–æ™‚ã«ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚

```py:rentomatic/repository/memrepo.py
from rentomatic.domain.room import Room
from rentomatic.repository.iroomrepo import IRoomRepo


class MemRepo(IRoomRepo):
    def __init__(self, data: list[dict]):
        self.data = data

    def list(self):
        return [Room.from_dict(i) for i in self.data]

    def add(self, room):
        self.data.append(room)
        return 0
```

ãƒªãƒã‚¸ãƒˆãƒªã®å®Ÿä½“ã«ã¯ã€ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚·ã‚¹ãƒ†ãƒ å›ºæœ‰ã®å‡¦ç†ã‚’è¨˜è¼‰ã§ãã¾ã™ã€‚`MemRepo`ã§ã¯ã€Python ã®ãƒ‡ã‚£ã‚¯ã‚·ãƒ§ãƒŠãƒªã¨ãƒªã‚¹ãƒˆã«é–¢ã™ã‚‹æ“ä½œã‚’è¨˜è¼‰ã—ã¦ã„ã¾ã™ã€‚

ä¸€æ–¹ã§ã€ãƒªãƒã‚¸ãƒˆãƒªã®å¤–å´ã®å±¤ã€ã¤ã¾ã‚Šãƒªãƒã‚¸ãƒˆãƒªã‚’åˆ©ç”¨ã™ã‚‹ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å´ã§ã¯ã€ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚·ã‚¹ãƒ†ãƒ å›ºæœ‰ã®å‡¦ç†ã‚’æ©Ÿã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã›ã‚“ã€‚`MemRepo`ã‚’åˆæœŸåŒ–ã—ã¦`list()`ã‚’å‘¼ã¹ã°ã€`Room`ã®ãƒªã‚¹ãƒˆã‚’å–å¾—ã§ãã¾ã™ã€‚

## ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ†ã‚¹ãƒˆ

å˜ä½“ãƒ†ã‚¹ãƒˆã‚’è¨˜è¼‰ã—ã‚„ã™ã„ã“ã¨ã‚‚ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®ç‰¹å¾´ã§ã™ã€‚ã“ã“ã§`MemRepo`ã®ãƒ†ã‚¹ãƒˆã‚’æ›¸ãã¾ã™ã€‚ï¼ˆæ›¸ç±ã§ã¯ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºã§å®Ÿè£…ã—ã¦ã„ã‚‹ãŸã‚ã€å®Ÿéš›ã«ã¯å…ˆã«ãƒ†ã‚¹ãƒˆã‚’æ›¸ã„ã¦ã„ã¾ã™ï¼‰

```py:tests/repository/test_memrepo.py
import pytest

from rentomatic.domain.room import Room
from rentomatic.repository.memrepo import MemRepo


@pytest.fixture
def room_dicts():
    return [
        {
            "code": "f853578c-fc0f-4e65-81b8-566c5dffa35a",
            "size": 215,
            "price": 39,
            "longitude": -0.09998975,
            "latitude": 51.75436293,
        },
# çœç•¥
    ]


def test_repository_list_without_parameters(room_dicts):
    repo = MemRepo(room_dicts)

    rooms = [Room.from_dict(i) for i in room_dicts]

    assert repo.list() == rooms


def test_repository_add(room_dicts):
    repo = MemRepo(room_dicts[0:3])

    rooms = [Room.from_dict(i) for i in room_dicts]
    repo.add(room_dicts[3])

    assert repo.list() == rooms
```

ã“ã‚Œã§`MemRepo`ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨ãŒç¢ºèªã§ãã¾ã—ãŸã€‚

# ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹

ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«ã¯ã€ã‚¢ãƒ—ãƒªã§å®Ÿè¡Œã™ã‚‹å®Ÿéš›ã®ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’è¨˜è¼‰ã—ã¾ã™ã€‚ã“ã®ã‚¢ãƒ—ãƒªã®å ´åˆã€ç‰©ä»¶æƒ…å ±ã‚’æ¤œç´¢ãƒ»ç™»éŒ²ãƒ»æ›´æ–°ãƒ»å‰Šé™¤ã™ã‚‹ã‚ˆã†ãªå‡¦ç†ãŒè©²å½“ã—ã¾ã™ã€‚

ã“ã“ã§ã¯ã€ã™ã¹ã¦ã®ç‰©ä»¶ã‚’å–å¾—ã™ã‚‹ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã¨ã€æ‰€æœ‰ã™ã‚‹ç‰©ä»¶ã®è³ƒæ–™ã®åˆè¨ˆã‚’å–å¾—ã™ã‚‹ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚’é–¢æ•°ã¨ã—ã¦ä½œæˆã—ã¾ã™ã€‚ï¼ˆæ›¸ç±ã§ã¯å‰è€…ã®ã¿å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚ï¼‰

å„ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã§ã¯ã€ãƒªãƒã‚¸ãƒˆãƒªã«å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹`list()`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’åˆ©ç”¨ã—ã¦`Room`ã®ä¸€è¦§ã‚’å–å¾—ã—ã¾ã™ã€‚ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã®å®Ÿè£…ãŒã€ãƒªãƒã‚¸ãƒˆãƒªãŒåˆ©ç”¨ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¾å­˜ã—ã¦ã„ãªã„ã“ã¨ãŒãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚

```py:rentomatic/use_cases/room_list.py
from rentomatic.domain.room import Room
from rentomatic.repository.iroomrepo import IRoomRepo


def room_list_use_case(repo: IRoomRepo) -> list[Room]:
    """Get list of all Rooms"""
    return repo.list()


def room_price_all_use_case(repo: IRoomRepo) -> int:
    """Get sum of all room prices"""
    total = 0
    rooms = repo.list()

    for r in rooms:
        total += r.price
    return total

```

ãªãŠã€å„ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«ãŠã„ã¦ã€æŠ½è±¡ã‚¯ãƒ©ã‚¹ã§å‹ãƒ’ãƒ³ãƒˆã‚’ã¤ã‘ã‚‹ã“ã¨ã§ã€ãƒªãƒã‚¸ãƒˆãƒªã«æœªå®Ÿè£…ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã‚’é˜²æ­¢ã—ã¦ã„ã¾ã™ã€‚ï¼ˆ[ã“ã¡ã‚‰ã®è¨˜äº‹](https://qiita.com/bee2/items/73529b18cf06b92e83bf#%E6%8A%BD%E8%B1%A1%E3%82%AF%E3%83%A9%E3%82%B9%E3%82%92%E5%9E%8B%E3%82%A2%E3%83%8E%E3%83%86%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3)ã‚’å‚è€ƒã«ã—ã¾ã—ãŸã€‚ï¼‰

## ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã®ãƒ†ã‚¹ãƒˆ

ãƒªãƒã‚¸ãƒˆãƒªã®å ´åˆã¨åŒæ§˜ã«ã€ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚‚å˜ä½“ãƒ†ã‚¹ãƒˆã‚’è¨˜è¼‰ã—ã¾ã™ã€‚

ã“ã“ã§ã¯ãƒªãƒã‚¸ãƒˆãƒªã¯ãƒ¢ãƒƒã‚¯ã§ãƒ†ã‚¹ãƒˆã—ã¦ã„ã‚‹ã“ã¨ã«æ³¨ç›®ã—ã¦ãã ã•ã„ã€‚ä¾‹ãˆã°ãƒªãƒã‚¸ãƒˆãƒªã«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹å ´åˆã§ã‚‚ã€ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã®ãƒ†ã‚¹ãƒˆã§ã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ç”¨æ„ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã›ã‚“ã€‚ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®å¤–å´ã«ã‚ã‚‹å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ ã«ä¾å­˜ã—ãªã„ã“ã¨ã®ãƒ¡ãƒªãƒƒãƒˆã§ã™ã­ã€‚

```py:tests/use_cases/test_room_list.py
import uuid
from unittest import mock

import pytest

from rentomatic.domain.room import Room
from rentomatic.use_cases.room_list import room_list_use_case, room_price_all_use_case


@pytest.fixture
def domain_rooms():
    room_1 = Room(
        code=uuid.uuid4(),
        size=215,
        price=39,
        longitude=-0.09998975,
        latitude=51.75436293,
    )
# çœç•¥
    return [room_1, room_2, room_3, room_4]


def test_room_list_without_parameters(domain_rooms):
    repo = mock.Mock()
    repo.list.return_value = domain_rooms

    result = room_list_use_case(repo)

    repo.list.assert_called_with()
    assert result == domain_rooms


def test_room_price_all(domain_rooms):
    repo = mock.Mock()
    repo.list.return_value = domain_rooms

    result = room_price_all_use_case(repo)

    repo.list.assert_called_with()
    assert result == 213
```

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³(CLI)

æœ€å¾Œã«ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¢ãƒ—ãƒªã‚’å®Ÿéš›ã«åˆ©ç”¨ã™ã‚‹ãŸã‚ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®Ÿè£…ã—ã¾ã™ã€‚ã¾ãšã¯æœ€ã‚‚ç°¡å˜ãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨ã—ã¦ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚

ã“ã®ãƒ„ãƒ¼ãƒ«ã¯ã€ãƒªãƒã‚¸ãƒˆãƒªã« 4 ä»¶ã®ç‰©ä»¶æƒ…å ±ã‚’ãƒ­ãƒ¼ãƒ‰ã—ã¦åˆæœŸåŒ–ã—ã€ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚’å®Ÿè¡Œã—ã¦ç‰©ä»¶æƒ…å ±ã‚’å…¨ä»¶å–å¾—ã—ã¾ã™ã€‚

```py:cli.py
#!/usr/bin/env python

from rentomatic.repository.memrepo import MemRepo
from rentomatic.use_cases.room_list import room_list_use_case

rooms = [
    {
        "code": "f853578c-fc0f-4e65-81b8-566c5dffa35a",
        "size": 215,
        "price": 39,
        "longitude": -0.09998975,
        "latitude": 51.75436293,
    },
# çœç•¥ åˆè¨ˆ4ä»¶ã®ç‰©ä»¶æƒ…å ±ã‚’å®šç¾©
]

repo = MemRepo(rooms)
result = room_list_use_case(repo)

print([room.to_dict() for room in result])
```

ã“ã®ãƒ„ãƒ¼ãƒ«ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ã™ã¹ã¦ã®ç‰©ä»¶æƒ…å ±ã‚’å–å¾—ã§ãã¾ã™ã€‚

```sh
â¯ poetry run python ./cli.py
[{'code': 'f853578c-fc0f-4e65-81b8-566c5dffa35a', 'size': 215, 'price': 39, 'longitude': -0.09998975, 'latitude': 51.75436293}, {'code': 'fe2c3195-aeff-487a-a08f-e0bdc0ec6e9a', 'size': 405, 'price': 66, 'longitude': 0.18228006, 'latitude': 51.74640997}, {'code': '913694c6-435a-4366-ba0d-da5334a611b2', 'size': 56, 'price': 60, 'longitude': 0.27891577, 'latitude': 51.45994069}, {'code': 'eed76e77-55c1-41ce-985d-ca49bf6c0585', 'size': 93, 'price': 48, 'longitude': 0.33894476, 'latitude': 51.39916678}]
```

ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§é‡è¦ãªéƒ¨åˆ†ã¯ã€ä»¥ä¸‹ã® 2 è¡Œã§ã™ã€‚ãƒªãƒã‚¸ãƒˆãƒªã‚’åˆæœŸåŒ–ã—ã€ãã‚Œã‚’ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹æ¸¡ã—ã¦ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè¡Œã—ã€çµæœã‚’å–å¾—ã™ã‚‹ã¨ã„ã†ä¸€é€£ã®å‡¦ç½®ã‚’å®Ÿè¡Œã—ã¦ã„ã¾ã™ã€‚

```py
repo = MemRepo(rooms)
result = room_list_use_case(repo)
```

ã“ã‚Œã§ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®ã‚³ã‚¢ã¨ãªã‚‹æ©Ÿèƒ½ã‚’å®Ÿè£…ã§ãã¾ã—ãŸã€‚ã“ã®å¾Œã®ç« ã§ã¯ã€ã“ã®ã‚¢ãƒ—ãƒªã«å¤‰æ›´ã‚’åŠ ãˆã‚‹ã“ã¨ã§ã€ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®åˆ©ç‚¹ã‚’æ¤œè¨¼ã—ã¦ã„ãã¾ã™ã€‚

---

# ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®åˆ©ç‚¹

## ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’è¨˜è¿°ã—ã‚„ã™ã„

## ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å¤‰æ›´å¯èƒ½

## ãƒªãƒã‚¸ãƒˆãƒªã‚’å¤‰æ›´å¯èƒ½

# ãŠã‚ã‚Šã«
